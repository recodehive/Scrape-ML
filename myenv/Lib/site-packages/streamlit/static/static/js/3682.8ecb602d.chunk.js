"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[3682],{3682:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var o=r(58878),a=r(17643),n=r.n(a),i=r(8151),l=r(64942),d=r(754),s=r(41639),u=r(25571),g=r(3101),m=r(70474),c=r(78286),f=r(93480),p=r(997),h=r(84152),v=r(70786);const b=e=>{var t,r,o,a;return null!==(t=null!==(r=null===e||void 0===e||null===(o=(a=e).getWeekInfo)||void 0===o?void 0:o.call(a))&&void 0!==r?r:null===e||void 0===e?void 0:e.weekInfo)&&void 0!==t?t:null};var C=r(90782);const S="YYYY/MM/DD";function y(e){return e.map((e=>new Date(e)))}function I(e){var t;let{disabled:r,element:a,widgetMgr:I,width:w,fragmentId:D}=e;const[L,A]=(0,g.t)({getStateFromWidgetMgr:W,getDefaultStateFromProto:M,getCurrStateFromProto:F,updateWidgetMgrState:k,element:a,widgetMgr:I,fragmentId:D}),[x,$]=(0,o.useState)(!1),{colors:R,fontSizes:U,lineHeights:j,spacing:z,sizes:_}=(0,i.u)(),{locale:B}=(0,o.useContext)(h.n),P=(e=>{const t=(0,o.useMemo)((()=>{try{return b(new Intl.Locale(e))}catch(t){return b(new Intl.Locale("en-US"))}}),[e]);if(!t)return v.A;const r=7===t.firstDay?0:t.firstDay;return{...v.A,options:{...v.A.options,weekStartsOn:r}}})(B),H={width:w},T=n()(a.min,S).toDate(),V=function(e){const t=e.max;return t&&t.length>0?n()(t,S).toDate():void 0}(a),X=0===a.default.length&&!r,Y=(0,o.useMemo)((()=>a.format.replaceAll(/[a-zA-Z]/g,"9")),[a.format]),E=(0,o.useMemo)((()=>a.format.replaceAll("Y","y").replaceAll("D","d")),[a.format]),G=(0,o.useCallback)((e=>{let{date:t}=e;if((0,u.hX)(t))return A({value:[],fromUi:!0}),void $(!0);const r=[];Array.isArray(t)?t.forEach((e=>{e&&r.push(e)})):r.push(t),A({value:r,fromUi:!0}),$(!r)}),[A]),N=(0,o.useCallback)((()=>{if(!x)return;const e=y(a.default);A({value:e,fromUi:!0}),$(!e)}),[x,a,A]);return(0,C.jsxs)("div",{className:"stDateInput","data-testid":"stDateInput",style:H,children:[(0,C.jsx)(m.L,{label:a.label,disabled:r,labelVisibility:(0,u.yv)(null===(t=a.labelVisibility)||void 0===t?void 0:t.value),children:a.help&&(0,C.jsx)(c.j,{children:(0,C.jsx)(f.A,{content:a.help,placement:p.W.TOP_RIGHT})})}),(0,C.jsx)(l.A,{locale:P,density:d.fY.high,formatString:E,mask:a.isRange?`${Y} \u2013 ${Y}`:Y,placeholder:a.isRange?`${a.format} \u2013 ${a.format}`:a.format,disabled:r,onChange:G,onClose:N,overrides:{Popover:{props:{placement:s.El.bottomLeft,overrides:{Body:{style:{border:`${_.borderWidth} solid ${R.borderColor}`}}}}},CalendarContainer:{style:{fontSize:U.sm,paddingRight:z.sm,paddingLeft:z.sm,paddingBottom:z.sm,paddingTop:z.sm}},Week:{style:{fontSize:U.sm}},Day:{style:e=>{let{$pseudoHighlighted:t,$pseudoSelected:r,$selected:o,$isHovered:a}=e;return{fontSize:U.sm,lineHeight:j.base,"::before":{backgroundColor:o||r||t||a?`${R.secondaryBg} !important`:R.transparent},"::after":{borderColor:R.transparent}}}},PrevButton:{style:()=>({display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:R.transparent},":focus":{backgroundColor:R.transparent,outline:0}})},NextButton:{style:{display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:R.transparent},":focus":{backgroundColor:R.transparent,outline:0}}},Input:{props:{maskChar:null,overrides:{Root:{style:{borderLeftWidth:_.borderWidth,borderRightWidth:_.borderWidth,borderTopWidth:_.borderWidth,borderBottomWidth:_.borderWidth,paddingRight:z.twoXS}},ClearIcon:{props:{overrides:{Svg:{style:{color:R.darkGray,padding:z.threeXS,height:_.clearIconSize,width:_.clearIconSize,":hover":{fill:R.bodyText}}}}}},Input:{style:{paddingRight:z.sm,paddingLeft:z.sm,paddingBottom:z.sm,paddingTop:z.sm,lineHeight:j.inputWidget},props:{"data-testid":"stDateInputField"}}}}}},value:L,minDate:T,maxDate:V,range:a.isRange,clearable:X})]})}function W(e,t){const r=e.getStringArrayValue(t);return y(void 0!==r?r:t.default||[])}function M(e){var t;return null!==(t=y(e.default))&&void 0!==t?t:[]}function F(e){var t;return null!==(t=y(e.value))&&void 0!==t?t:[]}function k(e,t,r,o){var a;t.setStringArrayValue(e,(a=r.value)?a.map((e=>n()(e).format(S))):[],{fromUi:r.fromUi},o)}const w=(0,o.memo)(I)},34752:(e,t,r)=>{r.d(t,{X:()=>i,o:()=>n});var o=r(58878),a=r(25571);class n{constructor(){this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}manageFormClearListener(e,t,r){(0,a.se)(this.formClearListener)&&this.lastWidgetMgr===e&&this.lastFormId===t||(this.disconnect(),(0,a._L)(t)&&(this.formClearListener=e.addFormClearedListener(t,r),this.lastWidgetMgr=e,this.lastFormId=t))}disconnect(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}function i(e){let{element:t,widgetMgr:r,onFormCleared:n}=e;(0,o.useEffect)((()=>{if(!(0,a._L)(t.formId))return;const e=r.addFormClearedListener(t.formId,n);return()=>{e.disconnect()}}),[t,r,n])}},3101:(e,t,r)=>{r.d(t,{_:()=>i,t:()=>l});var o=r(58878),a=r(34752),n=r(25571);function i(e){let{getStateFromWidgetMgr:t,getDefaultState:r,updateWidgetMgrState:i,element:l,widgetMgr:d,fragmentId:s,onFormCleared:u}=e;const[g,m]=(0,o.useState)((()=>{var e;return null!==(e=t(d,l))&&void 0!==e?e:r(d,l)})),[c,f]=(0,o.useState)({value:g,fromUi:!1});(0,o.useEffect)((()=>{(0,n.hX)(c)||(f(null),m(c.value),i(l,d,c,s))}),[c,i,l,d,s]);const p=(0,o.useCallback)((()=>{f({value:r(d,l),fromUi:!0}),null===u||void 0===u||u()}),[f,l,r,d,u]);return(0,a.X)({widgetMgr:d,element:l,onFormCleared:p}),[g,f]}function l(e){let{getStateFromWidgetMgr:t,getDefaultStateFromProto:r,getCurrStateFromProto:a,updateWidgetMgrState:n,element:l,widgetMgr:d,fragmentId:s,onFormCleared:u}=e;const g=(0,o.useCallback)(((e,t)=>r(t)),[r]),[m,c]=i({getStateFromWidgetMgr:t,getDefaultState:g,updateWidgetMgrState:n,element:l,widgetMgr:d,fragmentId:s,onFormCleared:u});return(0,o.useEffect)((()=>{l.setValue&&(l.setValue=!1,c({value:a(l),fromUi:!1}))}),[l,a,c]),[m,c]}}}]);
"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[3966],{45605:(e,t,r)=>{r.r(t),r.d(t,{FileSystemDirectoryHandle:()=>l,default:()=>c});var n=r(19364),i=r(66261);const{GONE:a,MOD_ERR:s}=i.errors,o=Symbol("adapter");class l extends n.A{[o];constructor(e){super(e),this[o]=e}async getDirectoryHandle(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(""===e)throw new TypeError("Name can't be an empty string.");if("."===e||".."===e||e.includes("/"))throw new TypeError("Name contains invalid characters.");t.create=!!t.create;const r=await this[o].getDirectoryHandle(e,t);return new l(r)}async*entries(){const{FileSystemFileHandle:e}=await Promise.resolve().then(r.bind(r,32866));for await(const[t,r]of this[o].entries())yield[r.name,"file"===r.kind?new e(r):new l(r)]}async*getEntries(){const{FileSystemFileHandle:e}=await Promise.resolve().then(r.bind(r,32866));console.warn("deprecated, use .entries() instead");for await(let t of this[o].entries())yield"file"===t.kind?new e(t):new l(t)}async getFileHandle(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{FileSystemFileHandle:n}=await Promise.resolve().then(r.bind(r,32866));if(""===e)throw new TypeError("Name can't be an empty string.");if("."===e||".."===e||e.includes("/"))throw new TypeError("Name contains invalid characters.");t.create=!!t.create;return new n(await this[o].getFileHandle(e,t))}async removeEntry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(""===e)throw new TypeError("Name can't be an empty string.");if("."===e||".."===e||e.includes("/"))throw new TypeError("Name contains invalid characters.");return t.recursive=!!t.recursive,this[o].removeEntry(e,t)}async resolve(e){if(await e.isSameEntry(this))return[];const t=[{handle:this,path:[]}];for(;t.length;){let{handle:r,path:n}=t.pop();for await(const i of r.values()){if(await i.isSameEntry(e))return[...n,i.name];"directory"===i.kind&&t.push({handle:i,path:[...n,i.name]})}}return null}async*keys(){for await(const[e]of this[o].entries())yield e}async*values(){for await(const[e,t]of this)yield t}[Symbol.asyncIterator](){return this.entries()}}if(Object.defineProperty(l.prototype,Symbol.toStringTag,{value:"FileSystemDirectoryHandle",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(l.prototype,{getDirectoryHandle:{enumerable:!0},entries:{enumerable:!0},getFileHandle:{enumerable:!0},removeEntry:{enumerable:!0}}),globalThis.FileSystemDirectoryHandle){const d=globalThis.FileSystemDirectoryHandle.prototype;async function y(e){const t=await navigator.storage.getDirectory();if(null===await t.resolve(e))throw new DOMException(...a)}d.resolve=async function(e){if(await e.isSameEntry(this))return[];const t=[{handle:this,path:[]}];for(;t.length;){let{handle:r,path:n}=t.pop();for await(const i of r.values()){if(await i.isSameEntry(e))return[...n,i.name];"directory"===i.kind&&t.push({handle:i,path:[...n,i.name]})}}return null};const m=d.entries;d.entries=async function*(){await y(this),yield*m.call(this)},d[Symbol.asyncIterator]=async function*(){yield*this.entries()};const p=d.removeEntry;d.removeEntry=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.call(this,e,t).catch((async e=>{if(e instanceof DOMException&&"UnknownError"===e.name&&!t.recursive){if(!(await m.call(this).next()).done)throw new DOMException(...s)}throw e}))}}const c=l},32866:(e,t,r)=>{r.r(t),r.d(t,{FileSystemFileHandle:()=>d,default:()=>y});var n=r(19364),i=r(66496),a=r(66261);const{INVALID:s,SYNTAX:o,GONE:l}=a.errors,c=Symbol("adapter");class d extends n.A{[c];constructor(e){super(e),this[c]=e}async createWritable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.A(await this[c].createWritable(e))}async getFile(){return this[c].getFile()}}if(Object.defineProperty(d.prototype,Symbol.toStringTag,{value:"FileSystemFileHandle",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(d.prototype,{createWritable:{enumerable:!0},getFile:{enumerable:!0}}),globalThis.FileSystemFileHandle&&!globalThis.FileSystemFileHandle.prototype.createWritable){const e=new WeakMap;let t;const r=()=>{let e,t;onmessage=async r=>{const n=r.ports[0],i=r.data;switch(i.type){case"open":const r=i.name;let n=await navigator.storage.getDirectory();for(const e of i.path)n=await n.getDirectoryHandle(e);e=await n.getFileHandle(r),t=await e.createSyncAccessHandle();break;case"write":t.write(i.data,{at:i.position}),t.flush();break;case"truncate":t.truncate(i.size);break;case"abort":case"close":t.close()}n.postMessage(0)}};globalThis.FileSystemFileHandle.prototype.createWritable=async function(n){if(!t){const e=`(${r.toString()})()`,n=new Blob([e],{type:"text/javascript"});t=URL.createObjectURL(n)}const a=new Worker(t,{type:"module"});let c=0;const d=new TextEncoder;let y=await this.getFile().then((e=>e.size));const m=e=>new Promise(((t,r)=>{const n=new MessageChannel;n.port1.onmessage=e=>{e.data instanceof Error?r(e.data):t(e.data),n.port1.close(),n.port2.close(),n.port1.onmessage=null},a.postMessage(e,[n.port2])})),p=await navigator.storage.getDirectory(),h=await e.get(this),u=await p.resolve(h);if(null===u)throw new DOMException(...l);let w;await m({type:"open",path:u,name:this.name}),!1===n?.keepExistingData&&(await m({type:"truncate",size:0}),y=0);return new i.A({start:e=>{w=e},async write(e){if("write"===(e=e?.constructor===Object?{...e}:{type:"write",data:e,position:c}).type){if(!("data"in e))throw await m({type:"close"}),new DOMException(...o("write requires a data argument"));if(e.position??=c,"string"===typeof e.data)e.data=d.encode(e.data);else if(e.data instanceof ArrayBuffer)e.data=new Uint8Array(e.data);else if(e.data instanceof Uint8Array||!ArrayBuffer.isView(e.data)){if(!(e.data instanceof Uint8Array)){const t=await new Response(e.data).arrayBuffer();e.data=new Uint8Array(t)}}else e.data=new Uint8Array(e.data.buffer,e.data.byteOffset,e.data.byteLength);Number.isInteger(e.position)&&e.position>=0&&(c=e.position),c+=e.data.byteLength,y+=e.data.byteLength}else{if("seek"===e.type){if(Number.isInteger(e.position)&&e.position>=0){if(y<e.position)throw new DOMException(...s);return console.log("seeking",e),void(c=e.position)}throw await m({type:"close"}),new DOMException(...o("seek requires a position argument"))}if("truncate"===e.type){if(!(Number.isInteger(e.size)&&e.size>=0))throw await m({type:"close"}),new DOMException(...o("truncate requires a size argument"));y=e.size,c>y&&(c=y)}}await m(e)},async close(){await m({type:"close"}),a.terminate()},async abort(e){await m({type:"abort",reason:e}),a.terminate()}})};const n=FileSystemDirectoryHandle.prototype.getFileHandle;FileSystemDirectoryHandle.prototype.getFileHandle=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const a=await n.call(this,...r);return e.set(a,this),a}}const y=d},19364:(e,t,r)=>{r.d(t,{A:()=>a});const n=Symbol("adapter");class i{[n];name;kind;constructor(e){this.kind=e.kind,this.name=e.name,this[n]=e}async queryPermission(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mode:t="read"}=e,r=this[n];if(r.queryPermission)return r.queryPermission({mode:t});if("read"===t)return"granted";if("readwrite"===t)return r.writable?"granted":"denied";throw new TypeError(`Mode ${t} must be 'read' or 'readwrite'`)}async requestPermission(){let{mode:e="read"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this[n];if(t.requestPermission)return t.requestPermission({mode:e});if("read"===e)return"granted";if("readwrite"===e)return t.writable?"granted":"denied";throw new TypeError(`Mode ${e} must be 'read' or 'readwrite'`)}async remove(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await this[n].remove(e)}async isSameEntry(e){return this===e||!(!e||"object"!==typeof e||this.kind!==e.kind||!e[n])&&this[n].isSameEntry(e[n])}}Object.defineProperty(i.prototype,Symbol.toStringTag,{value:"FileSystemHandle",writable:!1,enumerable:!1,configurable:!0}),globalThis.FileSystemHandle&&(globalThis.FileSystemHandle.prototype.queryPermission??=function(e){return"granted"});const a=i},66496:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(36839);const{WritableStream:i}=n.A;class a extends i{#e;constructor(e){super(e),this.#e=e,Object.setPrototypeOf(this,a.prototype),this._closed=!1}async close(){this._closed=!0;const e=this.getWriter(),t=e.close();return e.releaseLock(),t}seek(e){return this.write({type:"seek",position:e})}truncate(e){return this.write({type:"truncate",size:e})}write(e){if(this._closed)return Promise.reject(new TypeError("Cannot write to a CLOSED writable stream"));const t=this.getWriter(),r=t.write(e);return t.releaseLock(),r}}Object.defineProperty(a.prototype,Symbol.toStringTag,{value:"FileSystemWritableFileStream",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(a.prototype,{close:{enumerable:!0},seek:{enumerable:!0},truncate:{enumerable:!0},write:{enumerable:!0}}),!globalThis.FileSystemFileHandle||globalThis.FileSystemFileHandle.prototype.createWritable||globalThis.FileSystemWritableFileStream||(globalThis.FileSystemWritableFileStream=a);const s=a},36839:(e,t,r)=>{r.d(t,{A:()=>n});const n={ReadableStream:globalThis.ReadableStream,WritableStream:globalThis.WritableStream,TransformStream:globalThis.TransformStream,DOMException:globalThis.DOMException,Blob:globalThis.Blob,File:globalThis.File}},93966:(e,t,r)=>{r.r(t),r.d(t,{FileSystemDirectoryHandle:()=>m.default,FileSystemFileHandle:()=>p.default,FileSystemHandle:()=>h.A,FileSystemWritableFileStream:()=>y.A,getOriginPrivateDirectory:()=>d,showDirectoryPicker:()=>i,showOpenFilePicker:()=>o,showSaveFilePicker:()=>c});const n=globalThis.showDirectoryPicker;const i=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n&&!e._preferPolyfill)return n(e);const t=document.createElement("input");t.type="file",t.webkitdirectory=!0,t.multiple=!0,t.style.position="fixed",t.style.top="-100000px",t.style.left="-100000px",document.body.appendChild(t);const i=Promise.resolve().then(r.bind(r,66261));return await new Promise((e=>{t.addEventListener("change",e),t.click()})),i.then((e=>e.getDirHandlesFromInput(t)))},a={accepts:[]},s=globalThis.showOpenFilePicker;const o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...a,...e};if(s&&!e._preferPolyfill)return s(t);const n=document.createElement("input");n.type="file",n.multiple=t.multiple,n.accept=(t.accepts||[]).map((e=>[...(e.extensions||[]).map((e=>"."+e)),...e.mimeTypes||[]])).flat().join(","),Object.assign(n.style,{position:"fixed",top:"-100000px",left:"-100000px"}),document.body.appendChild(n);const i=Promise.resolve().then(r.bind(r,66261));return await new Promise((e=>{n.addEventListener("change",e,{once:!0}),n.click()})),n.remove(),i.then((e=>e.getFileHandlesFromInput(n)))},l=globalThis.showSaveFilePicker;const c=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(l&&!e._preferPolyfill)return l(e);e._name&&(console.warn("deprecated _name, spec now have `suggestedName`"),e.suggestedName=e._name);const{FileSystemFileHandle:t}=await Promise.resolve().then(r.bind(r,32866)),{FileHandle:n}=await r.e(3471).then(r.bind(r,23471));return new t(new n(e.suggestedName))};globalThis.DataTransferItem&&!DataTransferItem.prototype.getAsFileSystemHandle&&(DataTransferItem.prototype.getAsFileSystemHandle=async function(){const e=this.webkitGetAsEntry(),[{FileHandle:t,FolderHandle:n},{FileSystemDirectoryHandle:i},{FileSystemFileHandle:a}]=await Promise.all([r.e(1101).then(r.bind(r,61101)),Promise.resolve().then(r.bind(r,45605)),Promise.resolve().then(r.bind(r,32866))]);return e.isFile?new a(new t(e,!1)):new i(new n(e,!1))});const d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return globalThis.navigator?.storage?.getDirectory()||globalThis.getOriginPrivateDirectory();const{FileSystemDirectoryHandle:n}=await Promise.resolve().then(r.bind(r,45605)),i=await e;return new n(await(i.default?i.default(t):i(t)))};var y=r(66496),m=r(45605),p=r(32866),h=r(19364)},66261:(e,t,r)=>{r.r(t),r.d(t,{config:()=>i,errors:()=>n,fromDataTransfer:()=>a,getDirHandlesFromInput:()=>s,getFileHandlesFromInput:()=>o});const n={INVALID:["seeking position failed.","InvalidStateError"],GONE:["A requested file or directory could not be found at the time an operation was processed.","NotFoundError"],MISMATCH:["The path supplied exists, but was not an entry of requested type.","TypeMismatchError"],MOD_ERR:["The object can not be modified in this way.","InvalidModificationError"],SYNTAX:e=>[`Failed to execute 'write' on 'UnderlyingSinkBase': Invalid params passed. ${e}`,"SyntaxError"],SECURITY:["It was determined that certain files are unsafe for access within a Web application, or that too many calls are being made on file resources.","SecurityError"],DISALLOWED:["The request is not allowed by the user agent or the platform in the current context.","NotAllowedError"]},i={writable:globalThis.WritableStream};async function a(e){console.warn("deprecated fromDataTransfer - use `dt.items[0].getAsFileSystemHandle()` instead");const[t,n,i]=await Promise.all([r.e(7983).then(r.bind(r,17983)),r.e(1101).then(r.bind(r,61101)),Promise.resolve().then(r.bind(r,45605))]),a=new t.FolderHandle("",!1);return a._entries=e.map((e=>e.isFile?new n.FileHandle(e,!1):new n.FolderHandle(e,!1))),new i.FileSystemDirectoryHandle(a)}async function s(e){const{FolderHandle:t,FileHandle:n}=await r.e(7983).then(r.bind(r,17983)),{FileSystemDirectoryHandle:i}=await Promise.resolve().then(r.bind(r,45605)),a=Array.from(e.files),s=a[0].webkitRelativePath.split("/",1)[0],o=new t(s,!1);return a.forEach((e=>{const r=e.webkitRelativePath.split("/");r.shift();const i=r.pop();r.reduce(((e,r)=>(e._entries[r]||(e._entries[r]=new t(r,!1)),e._entries[r])),o)._entries[i]=new n(e.name,e,!1)})),new i(o)}async function o(e){const{FileHandle:t}=await r.e(7983).then(r.bind(r,17983)),{FileSystemFileHandle:n}=await Promise.resolve().then(r.bind(r,32866));return Array.from(e.files).map((e=>new n(new t(e.name,e,!1))))}}}]);
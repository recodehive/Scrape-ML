"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[8237],{78237:(e,l,o)=>{o.r(l),o.d(l,{default:()=>F});var t=o(58878),r=o(8151),n=o(43978),i=o(29669),c=o(25571),a=o(34752),s=o(4494),d=o(59323),u=o(75760),p=o(37638),f=o.n(p),m=o(16795),g=o(58144),h=o(67253),y=o(84996);function A(e,l,o){return e=function(e,l){return(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll("#000032",(0,m.$E)(l))).replaceAll("#000033",(0,m.pf)(l))).replaceAll("#000034",(0,m.h7)(l))).replaceAll("#000035",(0,m.V9)(l))).replaceAll("#000036",(0,m.lH)(l))).replaceAll("#000037",(0,m.ZA)(l))).replaceAll("#000038",l.colors.bgColor)).replaceAll("#000039",l.colors.fadedText05)).replaceAll("#000040",l.colors.bgMix)}(e,l),e=function(e,l,o){const t="#000001",r="#000002",n="#000003",i="#000004",c="#000005",a="#000006",s="#000007",d="#000008",u="#000009",p="#000010";if("streamlit"===o){const o=(0,m.c6)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(r,o[1])).replaceAll(n,o[2])).replaceAll(i,o[3])).replaceAll(c,o[4])).replaceAll(a,o[5])).replaceAll(s,o[6])).replaceAll(d,o[7])).replaceAll(u,o[8])).replaceAll(p,o[9])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#636efa")).replaceAll(r,"#EF553B")).replaceAll(n,"#00cc96")).replaceAll(i,"#ab63fa")).replaceAll(c,"#FFA15A")).replaceAll(a,"#19d3f3")).replaceAll(s,"#FF6692")).replaceAll(d,"#B6E880")).replaceAll(u,"#FF97FF")).replaceAll(p,"#FECB52");return e}(e,l,o),e=function(e,l,o){const t="#000011",r="#000012",n="#000013",i="#000014",c="#000015",a="#000016",s="#000017",d="#000018",u="#000019",p="#000020";if("streamlit"===o){const o=(0,m.rp)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(r,o[1])).replaceAll(n,o[2])).replaceAll(i,o[3])).replaceAll(c,o[4])).replaceAll(a,o[5])).replaceAll(s,o[6])).replaceAll(d,o[7])).replaceAll(u,o[8])).replaceAll(p,o[9])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#0d0887")).replaceAll(r,"#46039f")).replaceAll(n,"#7201a8")).replaceAll(i,"#9c179e")).replaceAll(c,"#bd3786")).replaceAll(a,"#d8576b")).replaceAll(s,"#ed7953")).replaceAll(d,"#fb9f3a")).replaceAll(u,"#fdca26")).replaceAll(p,"#f0f921");return e}(e,l,o),e=function(e,l,o){const t="#000021",r="#000022",n="#000023",i="#000024",c="#000025",a="#000026",s="#000027",d="#000028",u="#000029",p="#000030",f="#000031";if("streamlit"===o){const o=(0,m.vk)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(r,o[1])).replaceAll(n,o[2])).replaceAll(i,o[3])).replaceAll(c,o[4])).replaceAll(a,o[5])).replaceAll(s,o[6])).replaceAll(d,o[7])).replaceAll(u,o[8])).replaceAll(p,o[9])).replaceAll(f,o[10])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#8e0152")).replaceAll(r,"#c51b7d")).replaceAll(n,"#de77ae")).replaceAll(i,"#f1b6da")).replaceAll(c,"#fde0ef")).replaceAll(a,"#f7f7f7")).replaceAll(s,"#e6f5d0")).replaceAll(d,"#b8e186")).replaceAll(u,"#7fbc41")).replaceAll(p,"#4d9221")).replaceAll(f,"#276419");return e}(e,l,o),e}function v(e,l){try{!function(e,l){const{genericFonts:o,colors:t,fontSizes:r}=l,n={font:{color:(0,m.lH)(l),family:o.bodyFont,size:r.twoSmPx},title:{color:t.headingColor,subtitleColor:t.bodyText,font:{family:o.headingFont,size:(0,g.BY)(r.md),color:t.headingColor},pad:{l:(0,g.BY)(l.spacing.twoXS)},xanchor:"left",x:0},legend:{title:{font:{size:r.twoSmPx,color:(0,m.lH)(l)},side:"top"},valign:"top",bordercolor:t.transparent,borderwidth:0,font:{size:r.twoSmPx,color:(0,m.ZA)(l)}},paper_bgcolor:t.bgColor,plot_bgcolor:t.bgColor,yaxis:{ticklabelposition:"outside",zerolinecolor:(0,m.V9)(l),title:{font:{color:(0,m.lH)(l),size:r.smPx},standoff:(0,g.BY)(l.spacing.twoXL)},tickcolor:(0,m.V9)(l),tickfont:{color:(0,m.lH)(l),size:r.twoSmPx},gridcolor:(0,m.V9)(l),minor:{gridcolor:(0,m.V9)(l)},automargin:!0},xaxis:{zerolinecolor:(0,m.V9)(l),gridcolor:(0,m.V9)(l),showgrid:!1,tickfont:{color:(0,m.lH)(l),size:r.twoSmPx},tickcolor:(0,m.V9)(l),title:{font:{color:(0,m.lH)(l),size:r.smPx},standoff:(0,g.BY)(l.spacing.xl)},minor:{gridcolor:(0,m.V9)(l)},zeroline:!1,automargin:!0,rangeselector:{bgcolor:t.bgColor,bordercolor:(0,m.V9)(l),borderwidth:1,x:0}},margin:{pad:(0,g.BY)(l.spacing.sm),r:0,l:0},hoverlabel:{bgcolor:t.bgColor,bordercolor:t.borderColor,font:{color:(0,m.lH)(l),family:o.bodyFont,size:r.twoSmPx}},coloraxis:{colorbar:{thickness:16,xpad:(0,g.BY)(l.spacing.twoXL),ticklabelposition:"outside",outlinecolor:t.transparent,outlinewidth:8,len:.75,y:.5745,title:{font:{color:(0,m.lH)(l),size:r.smPx}},tickfont:{color:(0,m.lH)(l),size:r.twoSmPx}}},ternary:{gridcolor:(0,m.lH)(l),bgcolor:t.bgColor,title:{font:{family:o.bodyFont,size:r.smPx}},color:(0,m.lH)(l),aaxis:{gridcolor:(0,m.lH)(l),linecolor:(0,m.lH)(l),tickfont:{family:o.bodyFont,size:r.twoSmPx}},baxis:{linecolor:(0,m.lH)(l),gridcolor:(0,m.lH)(l),tickfont:{family:o.bodyFont,size:r.twoSmPx}},caxis:{linecolor:(0,m.lH)(l),gridcolor:(0,m.lH)(l),tickfont:{family:o.bodyFont,size:r.twoSmPx}}}};f()(e,n)}(e.layout.template.layout,l)}catch(o){const e=(0,h.$)(o);(0,y.vV)(e)}"title"in e.layout&&(e.layout.title=f()(e.layout.title,{text:`<b>${e.layout.title.text}</b>`}))}var x=o(90782);const b={width:600,height:470,name:"fullscreen-expand",path:"M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"},w={width:600,height:470,name:"fullscreen-collapse",path:"M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"};function C(e,l,o){const t=JSON.parse(A(JSON.stringify(e),o,l));return"streamlit"===l?v(t,o):t.layout=function(e,l){const{colors:o,genericFonts:t}=l,r={font:{color:o.bodyText,family:t.bodyFont},paper_bgcolor:o.bgColor,plot_bgcolor:o.secondaryBg};return{...e,font:{...r.font,...e.font},paper_bgcolor:e.paper_bgcolor||r.paper_bgcolor,plot_bgcolor:e.plot_bgcolor||r.plot_bgcolor}}(t.layout,o),t}function S(e,l,o,t){if(!e)return;const r={selection:{points:[],point_indices:[],box:[],lasso:[]}},n=new Set,a=[],s=[],d=[],{selections:u,points:p}=e;if(p&&p.forEach((function(e){d.push({...e,legendgroup:e.data.legendgroup||void 0,data:void 0,fullData:void 0}),(0,c.se)(e.pointIndex)&&n.add(e.pointIndex),(0,c.se)(e.pointIndices)&&e.pointIndices.length>0&&e.pointIndices.forEach((e=>n.add(e)))})),u&&u.forEach((e=>{if("rect"===e.type){const l=function(e){return"x0"in e&&"x1"in e&&"y0"in e&&"y1"in e?{x:[e.x0,e.x1],y:[e.y0,e.y1]}:{x:[],y:[]}}(e),o={xref:e.xref,yref:e.yref,x:l.x,y:l.y};a.push(o)}if("path"===e.type){const l=function(e){if(""===e)return{x:[],y:[]};const l=e.replace("M","").replace("Z","").split("L"),o=[],t=[];return l.forEach((e=>{const[l,r]=e.split(",").map(Number);o.push(l),t.push(r)})),{x:o,y:t}}(e.path),o={xref:e.xref,yref:e.yref,x:l.x,y:l.y};s.push(o)}})),r.selection.point_indices=Array.from(n),r.selection.points=d.map((e=>(0,c.wJ)(e))),r.selection.box=a,r.selection.lasso=s,r.selection.box.length>0&&!o.selectionMode.includes(i.P_.SelectionMode.BOX))return;if(r.selection.lasso.length>0&&!o.selectionMode.includes(i.P_.SelectionMode.LASSO))return;const f=l.getStringValue(o),m=JSON.stringify(r);f!==m&&l.setStringValue(o,m,{fromUi:!0},t)}const F=(0,u.A)((function(e){var l,o,c,u,p;let{element:f,widgetMgr:m,disabled:g,fragmentId:h,disableFullscreenMode:y}=e;const A=(0,r.u)(),{expanded:v,width:F,height:k,expand:z,collapse:M}=(0,d.i)(s.T),H=(0,t.useMemo)((()=>f.spec?JSON.parse(f.spec):{layout:{},data:[],frames:void 0}),[f.id,f.spec]),[_,E]=(0,t.useState)((()=>{const e=m.getElementState(f.id,"figure");return e||C(H,f.theme,A)})),P=f.selectionMode.length>0&&!g,V=P&&f.selectionMode.includes(i.P_.SelectionMode.LASSO),I=P&&f.selectionMode.includes(i.P_.SelectionMode.BOX),B=P&&f.selectionMode.includes(i.P_.SelectionMode.POINTS),L=(0,t.useMemo)((()=>{if(!f.config)return{};const e=JSON.parse(f.config);var l;y||(e.modeBarButtonsToAdd=[{name:v?"Close fullscreen":"Fullscreen",icon:v?w:b,click:()=>{v&&M?M():z&&z()}},...null!==(l=e.modeBarButtonsToAdd)&&void 0!==l?l:[]]);if(!e.modeBarButtonsToRemove){e.displaylogo=!1;const l=["sendDataToCloud"];P?(V||l.push("lasso2d"),I||l.push("select2d")):l.push("lasso2d","select2d"),e.modeBarButtonsToRemove=l}return e}),[f.id,f.config,v,y,P,V,I,M,z]);(0,t.useEffect)((()=>{E((e=>C(e,f.theme,A)))}),[f.id,A,f.theme]),(0,t.useEffect)((()=>{let e=H.layout.clickmode,l=H.layout.hovermode,o=H.layout.dragmode;g?(e="none",o="pan"):P&&(H.layout.clickmode||(e=B?"event+select":"none"),H.layout.hovermode||(l="closest"),H.layout.dragmode||(o=B?"pan":I?"select":V?"lasso":"pan")),E((t=>t.layout.clickmode===e&&t.layout.hovermode===l&&t.layout.dragmode===o?t:{...t,layout:{...t.layout,clickmode:e,hovermode:l,dragmode:o}}))}),[f.id,P,B,I,V,g]);let T=-1===F?null===(l=_.layout)||void 0===l?void 0:l.width:Math.max(f.useContainerWidth?F:Math.min(null!==(o=H.layout.width)&&void 0!==o?o:F,F),150),N=H.layout.height;v&&(T=F,N=k),_.layout.height===N&&_.layout.width===T||E((e=>({...e,layout:{...e.layout,height:N,width:T}})));const O=(0,t.useCallback)((e=>{S(e,m,f,h)}),[f.id,m,h]),W=(0,t.useCallback)((function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!function(e,l,o){const t=e.getStringValue(l),r=JSON.stringify({selection:{points:[],point_indices:[],box:[],lasso:[]}});t!==r&&e.setStringValue(l,r,{fromUi:!0},o)}(m,f,h),e&&setTimeout((()=>{E((e=>({...e,data:e.data.map((e=>({...e,selectedpoints:null}))),layout:{...e.layout,selections:[]}})))}),50)}),[f.id,m,h]);return(0,t.useEffect)((()=>{if(!f.formId||!P)return;const e=new a.o;return e.manageFormClearListener(m,f.formId,W),()=>{e.disconnect()}}),[f.formId,m,P,W]),(0,t.useEffect)((()=>{var e,l,o;if(!P)return;let t;t="select"===(null===(e=_.layout)||void 0===e?void 0:e.dragmode)||"lasso"===(null===(l=_.layout)||void 0===l?void 0:l.dragmode)?"event":B?"event+select":"none",(null===(o=_.layout)||void 0===o?void 0:o.clickmode)!==t&&E((e=>({...e,layout:{...e.layout,clickmode:t}})))}),[null===(c=_.layout)||void 0===c?void 0:c.dragmode]),(0,x.jsx)("div",{className:"stPlotlyChart","data-testid":"stPlotlyChart",children:(0,x.jsx)(n.A,{data:_.data,layout:_.layout,config:L,frames:null!==(u=_.frames)&&void 0!==u?u:void 0,style:{visibility:void 0===(null===(p=_.layout)||void 0===p?void 0:p.width)?"hidden":void 0},onSelected:P?O:()=>{},onDoubleClick:P?()=>W():void 0,onDeselect:P?()=>{W(!1)}:void 0,onInitialized:e=>{m.setElementState(f.id,"figure",e)},onUpdate:e=>{m.setElementState(f.id,"figure",e),E(e)}},v?"fullscreen":"original")})}))},4494:(e,l,o)=>{o.d(l,{T:()=>t});const t=(0,o(58878).createContext)(null);t.displayName="ElementFullscreenContext"},75760:(e,l,o)=>{o.d(l,{A:()=>m});var t=o(58878),r=o(53124),n=o.n(r),i=o(8151);const c=(0,o(89653).A)("div",{target:"elp1w7k0"})((e=>{let{theme:l,isExpanded:o}=e;return{...o?{position:"fixed",top:0,left:0,bottom:0,right:0,background:l.colors.bgColor,zIndex:l.zIndices.fullscreenWrapper,padding:l.spacing.md,paddingTop:l.sizes.fullScreenHeaderHeight,overflow:["auto","overlay"],display:"flex",alignItems:"center",justifyContent:"center"}:{}}}),"");var a=o(4494),s=o(84152),d=o(19342),u=o(59323);var p=o(90782);const f=e=>{let{children:l,height:o,width:r}=e;const n=(0,i.u)(),{expanded:f,fullHeight:m,fullWidth:g,zoomIn:h,zoomOut:y}=(()=>{const{setFullScreen:e}=(0,t.useContext)(s.n),[l,o]=(0,t.useState)(!1),{fullHeight:r,fullWidth:n}=(0,u.i)(d.j),i=(0,t.useCallback)((l=>{o(l),e(l)}),[e]),c=(0,t.useCallback)((()=>{document.body.style.overflow="hidden",i(!0)}),[i]),a=(0,t.useCallback)((()=>{document.body.style.overflow="unset",i(!1)}),[i]),p=(0,t.useCallback)((e=>{27===e.keyCode&&l&&a()}),[a,l]);return(0,t.useEffect)((()=>(document.addEventListener("keydown",p,!1),()=>{document.removeEventListener("keydown",p,!1)})),[p]),(0,t.useMemo)((()=>({expanded:l,zoomIn:c,zoomOut:a,fullHeight:r,fullWidth:n})),[l,c,a,r,n])})(),A=(0,t.useMemo)((()=>({width:f?g:r,height:f?m:o,expanded:f,expand:h,collapse:y})),[f,m,g,o,r,h,y]);return(0,p.jsx)(a.T.Provider,{value:A,children:(0,p.jsx)(c,{isExpanded:f,"data-testid":"stFullScreenFrame",theme:n,children:l})})};const m=function(e){const l=l=>(0,p.jsx)(f,{width:l.width,children:(0,p.jsx)(e,{...l})});return l.displayName=`withFullScreenWrapper(${e.displayName||e.name})`,n()(l,e)}},34752:(e,l,o)=>{o.d(l,{X:()=>i,o:()=>n});var t=o(58878),r=o(25571);class n{constructor(){this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}manageFormClearListener(e,l,o){(0,r.se)(this.formClearListener)&&this.lastWidgetMgr===e&&this.lastFormId===l||(this.disconnect(),(0,r._L)(l)&&(this.formClearListener=e.addFormClearedListener(l,o),this.lastWidgetMgr=e,this.lastFormId=l))}disconnect(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}function i(e){let{element:l,widgetMgr:o,onFormCleared:n}=e;(0,t.useEffect)((()=>{if(!(0,r._L)(l.formId))return;const e=o.addFormClearedListener(l.formId,n);return()=>{e.disconnect()}}),[l,o,n])}},59323:(e,l,o)=>{o.d(l,{i:()=>r});var t=o(58878);const r=e=>{const l=(0,t.useContext)(e);var o;if(null===l||void 0===l)throw new Error(`useRequiredContext: ${null!==(o=e.displayName)&&void 0!==o?o:"context"} not found`);return l}}}]);